"use strict";(self.webpackChunkreact_hw_08_phonebook=self.webpackChunkreact_hw_08_phonebook||[]).push([[362],{1362:function(e,n,t){t.r(n),t.d(n,{default:function(){return J}});var a=t(3531),s=t(9439),r=t(2791),o=t(5705),i=t(6727),c=t(9085),l=(t(5462),t(4691)),u=t(3661),d=t(7445),m="FormPhonebook_form__rYCjm",h="FormPhonebook_label__EHBVu",p="FormPhonebook_input__7QpSj",x="FormPhonebook_btn__u5Ui2",_="FormPhonebook_error__-GhRH",f=t(3329),j=function(){var e=(0,u.Tn)(),n=(0,s.Z)(e,2),t=n[0],a=n[1],j=a.isLoading,b=a.isSuccess,g=a.isError,v=(0,u.Jx)().data;(0,r.useEffect)((function(){b&&(0,d.fI)()}),[b]),(0,r.useEffect)((function(){g&&(0,d.I3)()}),[g]);var C=i.Ry().shape({name:i.Z_().min(2,"Too Short!").max(20,"Too Long!").required("Name is required field"),phone:i.Rx().typeError("That does not look like a phone number").positive("A phone number can't start with a minus").integer("A phone number can't include a decimal point").required("A phone number is required")});return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Ix,{autoClose:1e3,position:"top-center"}),(0,f.jsx)(o.J9,{initialValues:{name:"",phone:""},validationSchema:C,onSubmit:function(e,n){var a=n.resetForm,s=e.name,r=e.phone;v.find((function(n){return n.name.toLowerCase()===e.name.toLowerCase()}))?alert("".concat(e.name," is already in contacts!")):t({name:s,number:r})&&a()},children:(0,f.jsxs)(o.l0,{className:m,children:[(0,f.jsxs)("label",{className:h,children:["Name",(0,f.jsx)(o.gN,{className:p,type:"text",name:"name",placeholder:"Name"}),(0,f.jsx)(o.Bc,{className:_,name:"name",component:"div"})]}),(0,f.jsxs)("label",{className:h,children:["Number",(0,f.jsx)(o.gN,{className:p,type:"tel",name:"phone",placeholder:"phone"}),(0,f.jsx)(o.Bc,{className:_,name:"phone",component:"div"})]}),(0,f.jsxs)("button",{className:x,disabled:j,type:"submit",children:[j&&(0,f.jsx)(l.s5,{height:"20",width:"20"}),"Add contact"]})]})})]})},b=t(3628),g=t(6895),v=t(6351),C="Filter_label__aZtzq",N="Filter_input__5OfYv",w=function(){var e=(0,a.useDispatch)(),n=(0,a.useSelector)(v.zK);return(0,f.jsxs)("label",{className:C,children:["Find contacts by name",(0,f.jsx)(b.DebounceInput,{minLength:1,debounceTimeout:300,className:N,type:"text",value:n,placeholder:"Search",onChange:function(n){var t;t=n.target.value,e((0,g.T)(t))}})]})},y="ContactList_contactList__I6sK1",k="ContactList_default__4Mqqe",S=t(1413),F=t(5987),L="button-styled_btn__QjdoT",Z=["children","disabled","isLoading"],A=function(e){var n=e.children,t=e.disabled,a=e.isLoading,s=(0,F.Z)(e,Z);return(0,f.jsxs)("button",(0,S.Z)((0,S.Z)({className:L,disabled:t},s),{},{type:"submit",children:[a&&(0,f.jsx)(l.s5,{height:"20",width:"20"}),n]}))},P="ContactItem_contactItem__jC3mN",I=function(e){var n=e.id,t=e.name,a=e.number,o=(0,r.useState)(!1),i=(0,s.Z)(o,2),d=i[0],m=i[1],h=(0,r.useState)(t),p=(0,s.Z)(h,2),x=p[0],_=p[1],j=(0,r.useState)(a),b=(0,s.Z)(j,2),g=b[0],v=b[1],C=(0,u.Nt)(),N=(0,s.Z)(C,2),w=N[0],y=N[1],k=y.isLoading,S=y.isSuccess,F=(0,u.wv)(),L=(0,s.Z)(F,2),Z=L[0],I=L[1],q=I.isLoading,E=I.isSuccess;(0,r.useEffect)((function(){S&&c.Am.success("Contact has been deleted!"),E&&(m(!1),c.Am.success("Contact has been updated!"))}),[S,E]);var T=function(e){"name"===e.target.name?_(e.target.value):"number"===e.target.name&&v(e.target.value)};return(0,f.jsx)("li",{className:P,children:d?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("input",{type:"text",name:"name",value:x,onChange:T}),(0,f.jsx)("input",{type:"text",name:"number",value:g,onChange:T}),(0,f.jsxs)("div",{children:[(0,f.jsxs)(A,{onClick:function(){Z({id:n,name:x,number:g})},disabled:q,children:[q&&(0,f.jsx)(l.s5,{height:"20",width:"20"}),"Save"]}),(0,f.jsx)(A,{onClick:function(){m(!1),_(t),v(a)},children:"Cancel"})]})]}):(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("span",{children:[t,":"]})," ",(0,f.jsx)("span",{children:a}),(0,f.jsxs)("div",{children:[(0,f.jsx)(A,{onClick:function(){m(!0)},children:"Edit"}),(0,f.jsxs)(A,{onClick:function(){window.confirm("Are you sure you want to delete this contact?")&&w(n)},disabled:k,children:[k&&(0,f.jsx)(l.s5,{height:"20",width:"20"}),"Delete"]})]})]})})},q=function(){var e=(0,a.useSelector)(v.zK),n=(0,u.Jx)(),t=n.data,s=n.isLoading,r=n.error;return(0,f.jsxs)(f.Fragment,{children:[s&&(0,f.jsx)("p",{className:k,children:"...loading"}),r&&(0,f.jsx)("p",{className:k,children:"Sorry, something went wrong, please try again later!"}),t&&0===t.length&&(0,f.jsx)("p",{children:"There is no contact!"}),(0,f.jsx)("ul",{className:y,children:t&&(0,v.F4)(t,e).map((function(e){var n=e.id,t=e.name,a=e.number;return(0,f.jsx)(I,{name:t,number:a,id:n},n)}))})]})},E="ContactsPage_wrapper__OkD74",T="ContactsPage_titlePhone__cfZFs",D="ContactsPage_titleCont__8JqEF",J=function(){return(0,a.useSelector)(v.M7)&&(0,f.jsxs)("div",{className:E,children:[(0,f.jsx)("h1",{className:T,children:"Phonebook"}),(0,f.jsx)(j,{}),(0,f.jsx)("h2",{className:D,children:"Contacts"}),(0,f.jsx)(w,{}),(0,f.jsx)(q,{})]})}},7445:function(e,n,t){t.d(n,{G$:function(){return r},I3:function(){return o},fI:function(){return i},oo:function(){return s}});var a=t(9085),s=function(){return a.Am.error("Sorry, wrong email or password!")},r=function(){return a.Am.error("Sorry, incorrect data entered!")},o=function(){return a.Am.error("Sorry, something went wrong, please try again later!")},i=function(){return a.Am.success("Contact added!")}}}]);
//# sourceMappingURL=362.30ce9921.chunk.js.map